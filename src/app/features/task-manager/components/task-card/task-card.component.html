<nb-card>
  <nb-card-header>
    <div class="d-flex align-items-center justify-content-between w-100">
      <div>
        <div class="d-flex flex-column flex-sm-row align-items-start align-items-sm-end gap-2">
          <h6>{{ task.name }}</h6>

          @if (task.userId) {
            <span>{{ ' is assigned to: ' + (task.userId | userForTask: users) }}</span>
          }
        </div>

        <app-task-status [state]="task.state"></app-task-status>
      </div>

      <div class="d-flex flex-column flex-sm-row gap-2 gap-sm-0">
        <button (click)="edit.emit(task)" nbButton outline status="success" class="mx-2">
          <nb-icon icon="edit-2-outline"></nb-icon>
        </button>

        <button (click)="delete.emit(task)" nbButton outline status="danger" class="mx-2">
          <nb-icon icon="trash-2-outline"></nb-icon>
        </button>
      </div>
    </div>
  </nb-card-header>

  <nb-card-body>
    <span>{{ task.desc }}</span>
  </nb-card-body>

  <nb-card-footer>
    <div class="d-flex flex-column flex-sm-row gap-2 gap-sm-0 justify-content-between">
      <div class="d-flex flex-column">
        <span class="card-date">
          <b>{{ 'created' | translate }}</b>
        </span>

        <span class="card-date">{{ task.createdAt | date: 'dd/MM/yyyy HH:mm' }}</span>
      </div>

      <div class="d-flex flex-column">
        <span class="card-date">
          <b>{{ 'modified' | translate }}</b>
        </span>

        <span class="card-date">{{ task.updatedAt | date: 'dd/MM/yyyy HH:mm' }}</span>
      </div>
    </div>
  </nb-card-footer>
</nb-card>
